# 抖音极简版 《开工文档》



## 第一阶段： 功能实现



#### 一 文件夹说明

```
.
├── README.md
├── controller
│   └── userController.go
├── entity
│   └── user.go
├── main.go
├── mapper
│   ├── database.go
│   └── userMapper.go
├── public
│   ├── bear.mp4
│   └── data
├── router.go
├── service
│   └── message.go
├── services
│   ├── userService.go
│   └── userServiceImpl.go
├── test
│   ├── base_api_test.go
│   ├── common.go
│   ├── interact_api_test.go
│   ├── message_server_test.go
│   └── social_api_test.go
├── tree.md
├── tree.txt
└── 开工文档.md
```



#### 二 目录说明

| controller   | 处理url响应，执行services接口方法，返回处理结果              |
| ------------ | :----------------------------------------------------------- |
| **entity**   | **存放所有的数据库对象**                                     |
| **mapper**   | **存放所有entity对象直接sql操作的接口**                      |
| **services** | **xxxService.go存放controller对应需要的接口，xxxServiceImpl.go负责实现该接口** |

#### 三 web开发流程

1. 如果数据库中没有对应对象，就在entity中添加对象，并在mapper.database.go 中使用`Db.AutoMigrate()`建表.
2. 在mapper中编写对应该对象的sql方法函数，封装sql操作
3. 在services中编写controller中用到的对应接口，并创建对应xxxServiceImpl.go实现该接口的方法
4. 调用services中对应的接口服务函数

